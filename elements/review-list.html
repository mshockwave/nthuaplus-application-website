
<dom-module id="review-list">
    <template>
        <style>
            :host{
                padding: 20px;
            }

            paper-card {
                margin: 10px;
            }
            paper-card span {
                margin: 5px;
            }
        </style>

        <script src="../bower_components/fetch/fetch.js"></script>

        <iron-ajax
            auto
            url="/api/review/app"
            last-response="{{appList}}"
        ></iron-ajax>
        <div class="layout vertical center">
            <template id="mainList" is="dom-repeat" items="[[appList]]" as="app">
                <paper-card heading="[[_transFormName(app.Name)]]">
                    <div class="card-content layout vertical start">
                        <review-view form-data="[[app]]"></review-view>
                    </div>
                    <div class="card-actions">
                        <paper-button>提交審查</paper-button>
                    </div>
                </paper-card>
            </template>
        </div>
    </template>

    <script>
        Polymer({
            is: 'review-list',

            _transFormName: function(name){
                var nameStr = name.replace('#', ' (');
                return nameStr + ')'
            }
        });
    </script>
</dom-module>